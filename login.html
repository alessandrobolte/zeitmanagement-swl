<!doctype html>
<html lang="de">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Login â€” Zeitmanagement</title>
<link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸ•’</text></svg>">
<style>
  :root{
    --bg:#f3f4f6; --panel:#ffffff; --text:#0b1220; --muted:#425066;
    --accent1:#28a745; --accent2:#3b82f6; --radius:12px; --shadow:0 8px 24px rgba(15,23,42,0.06);
  }
  :root.dark{
    --bg:#0b0b0c; --panel:#0f1112; --text:#e8e8e8; --muted:#9aa0a6;
    --accent1:#ff4d4f; --accent2:#ff902b; --shadow:0 8px 28px rgba(0,0,0,0.6);
  }

  *{box-sizing:border-box}
  html,body{height:100%;margin:0;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;background:var(--bg);color:var(--text);display:flex;justify-content:center;align-items:center;padding:20px;}
  
  .panel{background:var(--panel);padding:24px;border-radius:var(--radius);box-shadow:var(--shadow);width:100%;max-width:400px;}
  h1{margin-top:0;margin-bottom:16px;font-size:1.5rem;text-align:center;}
  .form-row{display:flex;flex-direction:column;margin-bottom:12px;}
  label{font-size:0.9rem;color:var(--muted);margin-bottom:4px;}
  input[type="text"],input[type="password"]{padding:8px;border-radius:8px;border:1px solid rgba(0,0,0,0.06);background:transparent;color:var(--text);}
  button{padding:10px 16px;border:none;border-radius:10px;cursor:pointer;font-weight:500;box-shadow:var(--shadow);}
  .accent{background:linear-gradient(90deg,var(--accent1),var(--accent2));color:#fff;}
  .small{font-size:0.9rem;padding:8px 12px;}
  .link{font-size:0.85rem;color:var(--muted);text-decoration:none;margin-top:8px;text-align:center;display:block;}
  #toast{position:fixed;top:20px;right:20px;padding:10px 16px;border-radius:8px;font-weight:500;opacity:0;transition:opacity 0.4s ease;z-index:9999;}
  :root:not(.dark) #toast{background:#0077cc;color:#fff;}
  .dark #toast{background:#ff6600;color:#fff;}
</style>
</head>
<body>
<div class="panel">
  <h1>Login</h1>
  <div class="form-row">
    <label for="username">Benutzername</label>
    <input type="text" id="username" />
  </div>
  <div class="form-row">
    <label for="password">Passwort</label>
    <input type="password" id="password" />
  </div>
  <button id="loginBtn" class="accent small" style="width:100%;">Einloggen</button>
  <a href="/change-password.html" class="link">Passwort vergessen?</a>
</div>

<div id="toast">Login erfolgreich âœ…</div>

<script>
document.addEventListener('DOMContentLoaded',()=>{
  const LS_THEME = 'zm:theme_v1';
  const mode = localStorage.getItem(LS_THEME) || 'light';
  document.documentElement.classList.toggle('dark', mode==='dark');

  const toast = document.getElementById('toast');
  const showToast = (msg)=>{
    toast.textContent = msg;
    toast.style.opacity = 1;
    setTimeout(()=>toast.style.opacity=0,2500);
  }

  document.getElementById('loginBtn').addEventListener('click',()=>{
    const user = document.getElementById('username').value.trim();
    const pass = document.getElementById('password').value.trim();
    if(!user || !pass){ showToast('Bitte Benutzername und Passwort eingeben'); return; }

    // ðŸ”¹ Token speichern (hier als Base64 JSON, z.B. username + Rolle)
    const tokenData = { username: user, role: 'user' }; // Rolle kann angepasst werden
    localStorage.setItem('token', btoa(JSON.stringify(tokenData)));

    showToast('Login erfolgreich âœ…');

    // ðŸ”¹ Nach 1,5â€¯s weiterleiten zu index.html
    setTimeout(()=>window.location.href='/index.html',1500);
  });
});
</script>
</body>
</html>
